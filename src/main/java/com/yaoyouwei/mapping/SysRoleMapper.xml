<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.forwave.dao.ISysRoleDao">
	
	<resultMap id="sysRoleResultMap" type="com.forwave.pojo.SysRole">
		<id property="id" column="id" />
		<result property="name" column="name" />
		<result property="roleSecurity" column="role_security" />
		<result property="enabled" column="enabled" />
		<result property="description" column="description" />
		<result property="lastUpdateDate" column="last_update_date" />
	</resultMap>
	
	<select id="queryRoleListByUser" parameterType="com.forwave.pojo.SysUser" resultMap="sysRoleResultMap">
         SELECT r.* FROM sys_role r 
		 INNER JOIN  sys_role_user ru ON r.id=ru.role_id
		 INNER JOIN sys_user u  ON u.id= ru.user_id
        <where>
           <if test='id != null and id !="" '>
               and u.id = #{id}
           </if>
           <if test='name != null and name !="" '>
               and u.name = #{name}
           </if>
           <if test='delFlag != null and delFlag !="" '>
               and u.del_flag = #{delFlag}
           </if>
        </where> 
    </select>
    
   	<select id="queryRoleList" parameterType="com.forwave.pojo.SysRole" resultMap="sysRoleResultMap">
         SELECT  * FROM sys_role 
        <where>
           <if test='id != null and id !="" '>
               and id = #{id}
           </if>
           <if test='name != null and name !="" '>
               and name = #{name}
           </if>
           <if test='roleSecurity != null and roleSecurity !="" '>
               and role_security = #{roleSecurity}
           </if>
           <if test='enabled != null and enabled !="" '>
               and enabled = #{enabled}
           </if>
           <if test='description != null and description !="" '>
               and description = #{description}
           </if>
           
        </where> 
    </select>
    
	
	
</mapper>